base_pqr:
    action: submit
    method: post
    elements:
        name:
            type: text
            options:
                required: false
                label: Nombres
                class: input-block-level
                required: false
                filters:
                    trim:
                        filter: StringTrim
                validators:
                    length:
                        validator: StringLength
                        options:
                            max: 100
                    alpha:
                        validator: Alpha
                        options: { allowwhitespace: true }
        lastname:
            type: text
            options:
                required: false
                label: Apellidos
                class: input-block-level
                filters:
                    trim:
                        filter: StringTrim
                validators:
                    length:
                        validator: StringLength
                        options:
                            max: 100
                    alpha:
                        validator: Alpha
                        options: { allowwhitespace: true }
        document_type:
            type: select
            options:
                label: Tipo de documento
                class: input-block-level
                multiOptions:
                  CC: 'Cédula de ciudadanía'
                  TI: 'Tarjeta de identidad'
                  Pasaporte: 'Pasaporte'
                  CE: 'Cédula de extranjería'
        document_number:
            type: text
            options:
                required: false
                label: Número de documento
                class: input-block-level
                filters:
                    digits:
                        filter: Alnum
                    trim:
                        filter: StringTrim
                validators:
                    length:
                        validator: StringLength
                        options:
                            max: 100
                    Alnum:
                        validator: Alnum
        gender:
            type: select
            options:
                label: Género
                class: input-block-level
                multiOptions:
                  m: 'Masculino'
                  f: 'Femenino'
        email:
            type: text
            options:
                label: Correo electrónico
                class: input-block-level
                filters:
                    trim:
                        filter: StringTrim
                validators:
                    length:
                        validator: StringLength
                        options:
                            max: 100
                    email:
                        validator: EmailAddress
                        options:
                            messages:
                                emailAddressInvalid: 'El formato del email es incorrecto'
                                emailAddressInvalidFormat: 'El formato del email es incorrecto'
        phone:
            type: text
            options:
                label: Teléfono
                class: input-block-level
                filters:
                    trim:
                        filter: StringTrim
                validators:
                    length:
                        validator: StringLength
                        options:
                            max: 100
                    alnum:
                        validator: Alnum
                        options:
                            allowWhiteSpace: true
        twitter:
            type: text
            options:
                label: Twitter
                class: input-block-level
                filters:
                    trim:
                        filter: StringTrim
                validators:
                    length:
                        validator: StringLength
                        options:
                            max: 15
                    regex:
                        validator: Regex
                        options:
                            pattern: '/[a-zA-Z0-9_]{1,15}/'
                            messages:
                                regexInvalid: 'Texto ingresado no tiene un formato válido'
                                regexNotMatch: "'%value%' no es válido como nombre de usuario para una cuenta de Twitter"
        facebook:
            type: text
            options:
                label: Facebook
                class: input-block-level
                filters:
                    trim:
                        filter: StringTrim
                validators:
                    length:
                        validator: StringLength
                        options:
                            max: 20
                    regex:
                        validator: Regex
                        options:
                            pattern: '/[a-zA-Z0-9\.]{5,50}/'
                            messages:
                                regexInvalid: 'Texto ingresado no tiene un formato válido'
                                regexNotMatch: "'%value%' no es válido como nombre de usuario para una cuenta de Facebook"
        address:
            type: text
            options:
                label: Dirección
                class: input-block-level
                filters:
                    trim:
                        filter: StringTrim
                validators:
                    length:
                        validator: StringLength
                        options:
                            max: 100
        claim_address:
            type: text
            options:
                label: Dirección del daño
                class: input-block-level
                filters:
                    trim:
                        filter: StringTrim
                validators:
                    length:
                        validator: StringLength
                        options:
                            max: 100
        description:
            type: textarea
            options:
                required: true
                label: Descripción
                class: input-block-level
                rows: 5
                filters:
                    trim:
                        filter: StringTrim
                validators:
                    not_empty:
                        validator: notEmpty
                        options:
                            messages:
                                isEmpty: 'Por favor ingrese una descripción del reclamo'
                    length:
                        validator: StringLength
                        options:
                            max: 1000
        categ_id:
            type: select
            options:
                label: Tipo de requerimiento
                class: input-block-level
                multiOptions:
                    Reclamo: Reclamo
                    Solicitud: Solicitud
                    Sugerencia: Sugerencia
                    Denuncia: Denuncia
                    Queja: Queja
        submit:
            type: submit
            options:
                label: Enviar
                class: btn btn-primary
    displayGroups:
        citizen_data:
            name: datos_personales
            options:
                legend: Datos personales
            elements:
                - name
                - lastname
                - gender
                - document_type
                - document_number
        contact_data:
            name: datos_contacto
            options:
                legend: Datos de contacto
            elements:
                - email
                - twitter
                - facebook
                - phone
                - address
        claim:
            name: claim_details
            description: description
            options:
                legend: Detalles de su reporte
            elements:
                - categ_id
                - claim_address
                - description
        send:
            name: send
            elements:
                - submit

geo_pqr:
    _extends: base_pqr
    elements:
        name:
            options:
                required: true #Solicitado por Dirección
        lastname:
            options:
                required: true #Solicitado por Dirección
        document_number:
            options:
                required: true #Solicitado por Dirección
        geo_point:
            type: hidden
            options:
                required: true
                filters:
                    trim:
                        filter: StringTrim
                validators:
                    not_empty:
                        validator: notEmpty
                        options:
                            messages:
                                isEmpty: 'Por favor seleccione un punto en el mapa'
        image:
            type: file
            options:
                required: true
                label: Adjunte una imagen
                validators:
                    is_image:
                        validator: IsImage
                    file_size:
                        validator: FilesSize
                        options:
                            min: 10kB
                            max: 4MB
                    length:
                        validator: StringLength
                        options:
                            max: 1000
        damage_type_by_citizen:
            type: hidden
            options:
                required: true
                validators:
                    regex:
                        validator: Regex
                        options:
                            pattern: '/(fisura|hueco|hundimiento)/'
                            messages:
                                regexInvalid: 'Texto ingresado no tiene un formato válido'
                                regexNotMatch: "'%value%' no es uno de los tipos de daños soportados"

        damage_width_by_citizen:
            type: select
            options:
                required: true
                label: Ancho
                class: input-block-level
                multiOptions:
                    ns-nr: '- Seleccionar -'
                    1-5cm: 'Entre 1 y 5 centimetros'
                    6-10cm: 'Entre 6 y 10 centimetros'
                    1-10cm: 'Entre 1 y 10 centimetros'
                    10-30cm: 'Entre 10 y 30 centimetros'
                    30-50cm: 'Entre 30 y 50 centimetros'
                    50-100cm: 'Entre 50 centimetros y un metro'
                    +1m: 'Más de un metro'
        damage_length_by_citizen:
            type: select
            options:
                required: true
                label: Largo
                class: input-block-level
                multiOptions:
                    ns-nr: '- Seleccionar -'
                    10-30cm: 'Entre 10 y 30 centimetros'
                    30-50cm: 'Entre 30 y 50 centimetros'
                    50-100cm: 'Entre 50 centimetros y un metro'
                    +1m: 'Más de un metro'
        damage_deep_by_citizen:
            type: select
            options:
                required: true
                label: Profundidad
                class: input-block-level
                multiOptions:
                    ns-nr: '- Seleccionar -'
                    5-10cm: 'Entre 5 y 10 centimetros'
                    10-30cm: 'Entre 10 y 30 centimetros'
                    30-50cm: 'Entre 30 y 50 centimetros'
                    50-100cm: 'Entre 50 centimetros y un metro'
                    +1m: 'Más de un metro'
    displayGroups:
        claim:
            name: claim_details
            description: description
            options:
                legend: Detalles de su reporte
            elements:
                - damage_type_by_citizen
                - damage_width_by_citizen
                - damage_length_by_citizen
                - damage_deep_by_citizen
                - description
                - geo_point
                - image

pqr:
    _extends: base_pqr
